<template name="userProfile">
  <div class="col s12 user-profile">
    <div class="col m4 l4 s12">
      <div class="col s12">
              {{> avatar user=user size="large" shape="rounded"}}
       </div>
      <div class="col s12">
        <h5>
          {{#if notEmpty user.profile.firstName}}

          {{user.profile.firstName}} {{user.profile.lastName}}

          {{else}}

          {{user.username}}

          {{/if}}

	</h5>
	{{#if user.profile.bio}}
        <p>
	  {{user.profile.bio}}
        </p>
	{{/if}}
        {{#if notEmpty user.formatted_address}}<p><i class="fa fa-map-marker"></i>&nbsp;{{user.formatted_address}}</p>{{/if}}
 
        {{#if isOwner}}
        <p>
          <a href="/user/{{currentUser.username}}/edit" class="btn waves-effect waves-light"><i class="mdi-content-create left"></i>{{t "EDIT"}}</a>
	</p>

        {{else}}

        {{#if following}}
        <a href="#" class="btn btn-lg btn-default unFollowUser">{{t "UNFOLLOW"}}</a>
        {{else}}
        <a href="#" class="btn btn-lg btn-default followUser">{{t "FOLLOW"}}</a>
        {{/if}}

        {{/if}}

      </div>
    </div>
    <div class="col m8 l8 s12">
      <div class="row">
          <div class="col s12">
            <ul class="tabs">
              {{#if isOwner}}
              <li class="tab col s3"><a class="active" href="#oders">{{t "ORDERS"}}</a></li>
              <li class="tab col s3"><a href="#transaction">{{t "SALES"}}</a></li>
              {{/if}}
              <li class="tab col s3"><a href="#followers">{{t "Followers"}}</a></li>
              <li class="tab col s3"><a href="#test4">{{t "Following"}}</a></li>
            </ul>
          </div>
          {{#if isOwner}}
          <div id="oders" class="col s12 tab-wrapper">
            {{> userOrdersTemplate}}
          </div>
          <div id="transaction" class="col s12">
            {{> userTransactionsTemplate}}
          </div>
          {{/if}}
          <div id="followers" class="col s12" style="display: block">
	    <ul class="collection tab-collection">
              {{#each followersList}}
              <li class="collection-item avatar">
		<a href="/user/{{this.username}}">
		{{> avatar userId=this._id shape="cirlce"}}
		<span class="title">{{this.username}}</span>
		</a>
              </li>
              {{else}}
              {{t "No followers yet."}}
              {{/each}}
	    </ul>
          </div>
          <div id="test4" class="col s12">
	    <ul class="collection tab-collection">
              {{#each followingList}}
              <li class="collection-item avatar">
		<a href="/user/{{this.username}}">
		{{> avatar userId=this._id shape="cirlce"}}
		<span class="title">{{this.username}}</span>
		</a>
              </li>
              {{else}}
              {{t "Not following anybody yet."}}
              {{/each}}
	    </ul>
          </div>
        </div>
    </div>
	</div>
	<div class="col s12 border">
              {{> locationMap}}
	</div>

	<!-- Heading and filter button -->
	<div class="row">
		<div class="col s6 m9 l9">
			<h4 class="center-align">{{t "Created Listings"}}</h4>
		</div>
	</div>

	<!-- Listings -->
	<div class="row">
        <div class="col s12 l12">
            {{> listingNew publishTemplate='getListingsByAuthor' author=autherId _id=null}}
        </div>
  	</div>

  	<!-- Heading and filter button -->
  	<div class="row">
  		<div class="col s6 m9 l9">
  			<h4>{{t "Wishlist"}}</h4> 
  		</div>
  	</div>
	<!-- Wishlist listings -->
	<div class="row">
        <div class="row">
            {{> wishlistWrapper user=curUsername}}
        </div>
  	</div>

  	<!-- Modal Windows -->
	<!-- model2 -->
  	<div id="modal2" class="modal">
  		<div class="modal-content">
  			
  		</div>
  	</div>

  	<!-- Modal Structure -->
  	  <div id="modal1" class="modal">
  	    <div class="modal-content">
  			
  	    </div>
  	    <div class="modal-footer">
  	      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
  	    </div>
  	</div>

</template>
<template name="locationMap">
  <div style="width:100%;height:450px;">
      {{> googleMap name="exampleMap" options=exampleMapOptions}}
  </div>
</template>
