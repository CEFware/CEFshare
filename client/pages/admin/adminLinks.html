<template name="adminLinks">
  <div class="row inner-page admin-dashboard">
    <div class="col s12">
      <h4>{{t "Custom pages"}}</h4>
    </div>
    <div class="col s12">
      <h5>{{t "Current pages"}}</h5>
      <table>
        <thead>
          <tr>
            <th>{{t "Title"}}</th>
            <th>{{t "status"}}</th>
            <th>{{t "Action"}}</th>
          </tr>
        </thead>
        <tbody>
          {{#each pages}}
          <tr {{ifEditing}}>
            <td>{{title}}</td>
            <td>
              <form action="#">
		{{#if active}}
		<input type="checkbox" class="makeActive" id="{{_id}}" checked>
		<label for="{{_id}}"></label>
		{{else}}
		<input type="checkbox" class="makeActive" id="{{_id}}">
		<label for="{{_id}}"></label>
		{{/if}}
              </form>
 	    </td>
            <td>
	      <a href="#" class="btn btn-primary editPage">{{t "EDIT"}}</a> &nbsp;
              <a href="#" class="btn waves-effect waves-light red delPage"><i class="fa fa-trash"></i></a>
            </td>
          </tr>
          {{else}}
          <tr>
            <td colspan="5"><h6 class="text-center">{{t "Nothing here yet."}}</h6></td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>

    <div class="col s12">
      {{#if curPage}}
      <h5>{{t "Edit custom page"}}</h5>
      {{else}}
      <h5>{{t "Create new custom page"}}</h5>
      {{/if}}
    </div>
    <div class="col s12">
      {{#autoForm collection="Pages" id="adminLinks" type=fType doc=curPage}}
      <div>
        <div class="col s12">
          {{> afQuickField name="title" class="txt-subject"}}
        </div>
        <div class="col s12">
          {{> afQuickField name="url" class="txt-subject"}}
        </div>
        <div class="col s12">
          {{> afQuickField name="page" rows=5 class="ck-editor"}}
        </div>
        <div class="col s12">
          {{> afQuickField name="active"}}
        </div>
        <div class="col s12 text-center">
        <br><br>
          <button type="submit" class="btn"><i class="mdi-navigation-check left"></i> {{t "Save"}}</button>
          <button type="reset" class="btn-flat red-text"><i class="mdi-navigation-close left"></i> {{t "Reset"}}</button>
          {{#if curPage}}
          <button class="btn red cancel">{{t "Cancel"}}</button>
          {{/if}}
        </div>
      </div>
      {{/autoForm}}
    </div>
    <br><br><br>
    <div class="col s12">
      <h5>{{t "Current blocks"}}</h5>
      <table>
        <thead>
          <tr>
            <th>{{t "Block name"}}</th>
            <th>{{t "Action"}}</th>
          </tr>
        </thead>
        <tbody>
          {{#each blocks}}
          <tr {{ifEditingBlock}}>
            <td>{{uri}}</td>
            <td>
	      <a href="#" class="btn btn-primary editBlock">{{t "EDIT"}}</a> &nbsp;
              <a href="#" class="btn waves-effect waves-light red delBlock"><i class="fa fa-trash"></i></a>
            </td>
          </tr>
          {{else}}
          <tr>
            <td colspan="5"><h6 class="text-center">{{t "Nothing here yet."}}</h6></td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>

    <div class="col s12">
      {{#if curBlock}}
      <h5>{{t "Edit block"}}</h5>
      {{else}}
      <h5>{{t "Create new block"}}</h5>
      {{/if}}
    </div>
    <div class="col s12">
      {{#autoForm collection="Blocks" id="adminLinksBlocks" type=bType doc=curBlock}}
      <div>
        <div class="col s12">
          {{> afQuickField name="title" class="txt-subject"}}
        </div>
        <div class="col s12">
          {{> afQuickField name="page" rows=5 class="ck-editor2"}}
        </div>
        <div class="col s12 text-center">
        <br><br>
          <button type="submit" class="btn"><i class="mdi-navigation-check left"></i> {{t "Save"}}</button>
          <button type="reset" class="btn-flat red-text"><i class="mdi-navigation-close left"></i> {{t "Reset"}}</button>
          {{#if curBlock}}
          <button class="btn red cancelBlock">{{t "Cancel"}}</button>
          {{/if}}
        </div>
      </div>
      {{/autoForm}}
    </div>
  </div>
</template>
